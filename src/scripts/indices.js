// raw examples
// {
//   const rawData = {
//     latitude: 48.822495,
//     longitude: 2.2881355,
//     generationtime_ms: 0.11801719665527344,
//     utc_offset_seconds: 0,
//     timezone: "GMT",
//     timezone_abbreviation: "GMT",
//     elevation: 43.0,
//     daily_units: {
//       time: "iso8601",
//       temperature_2m_mean: "Â°C",
//     },
//     daily: {
//       time: [
//         "2022-01-01",
//         "2022-01-02",
//         "2022-01-03",
//         "2022-01-04",
//         "2022-01-05",
//         "2022-01-06",
//         "2022-01-07",
//         "2022-01-08",
//         "2022-01-09",
//         "2022-01-10",
//         "2022-01-11",
//         "2022-01-12",
//         "2022-01-13",
//         "2022-01-14",
//         "2022-01-15",
//         "2022-01-16",
//         "2022-01-17",
//         "2022-01-18",
//         "2022-01-19",
//         "2022-01-20",
//         "2022-01-21",
//         "2022-01-22",
//         "2022-01-23",
//         "2022-01-24",
//         "2022-01-25",
//         "2022-01-26",
//         "2022-01-27",
//         "2022-01-28",
//         "2022-01-29",
//         "2022-01-30",
//         "2022-01-31",
//         "2022-02-01",
//         "2022-02-02",
//         "2022-02-03",
//         "2022-02-04",
//         "2022-02-05",
//         "2022-02-06",
//         "2022-02-07",
//         "2022-02-08",
//         "2022-02-09",
//         "2022-02-10",
//         "2022-02-11",
//         "2022-02-12",
//         "2022-02-13",
//         "2022-02-14",
//         "2022-02-15",
//         "2022-02-16",
//         "2022-02-17",
//         "2022-02-18",
//         "2022-02-19",
//         "2022-02-20",
//         "2022-02-21",
//         "2022-02-22",
//         "2022-02-23",
//         "2022-02-24",
//         "2022-02-25",
//         "2022-02-26",
//         "2022-02-27",
//         "2022-02-28",
//         "2022-03-01",
//         "2022-03-02",
//         "2022-03-03",
//         "2022-03-04",
//         "2022-03-05",
//         "2022-03-06",
//         "2022-03-07",
//         "2022-03-08",
//         "2022-03-09",
//         "2022-03-10",
//         "2022-03-11",
//         "2022-03-12",
//         "2022-03-13",
//         "2022-03-14",
//         "2022-03-15",
//         "2022-03-16",
//         "2022-03-17",
//         "2022-03-18",
//         "2022-03-19",
//         "2022-03-20",
//         "2022-03-21",
//         "2022-03-22",
//         "2022-03-23",
//         "2022-03-24",
//         "2022-03-25",
//         "2022-03-26",
//         "2022-03-27",
//         "2022-03-28",
//         "2022-03-29",
//         "2022-03-30",
//         "2022-03-31",
//         "2022-04-01",
//         "2022-04-02",
//         "2022-04-03",
//         "2022-04-04",
//         "2022-04-05",
//         "2022-04-06",
//         "2022-04-07",
//         "2022-04-08",
//         "2022-04-09",
//         "2022-04-10",
//         "2022-04-11",
//         "2022-04-12",
//         "2022-04-13",
//         "2022-04-14",
//         "2022-04-15",
//         "2022-04-16",
//         "2022-04-17",
//         "2022-04-18",
//         "2022-04-19",
//         "2022-04-20",
//         "2022-04-21",
//         "2022-04-22",
//         "2022-04-23",
//         "2022-04-24",
//         "2022-04-25",
//         "2022-04-26",
//         "2022-04-27",
//         "2022-04-28",
//         "2022-04-29",
//         "2022-04-30",
//         "2022-05-01",
//         "2022-05-02",
//         "2022-05-03",
//         "2022-05-04",
//         "2022-05-05",
//         "2022-05-06",
//         "2022-05-07",
//         "2022-05-08",
//         "2022-05-09",
//         "2022-05-10",
//         "2022-05-11",
//         "2022-05-12",
//         "2022-05-13",
//         "2022-05-14",
//         "2022-05-15",
//         "2022-05-16",
//         "2022-05-17",
//         "2022-05-18",
//         "2022-05-19",
//         "2022-05-20",
//         "2022-05-21",
//         "2022-05-22",
//         "2022-05-23",
//         "2022-05-24",
//         "2022-05-25",
//         "2022-05-26",
//         "2022-05-27",
//         "2022-05-28",
//         "2022-05-29",
//         "2022-05-30",
//         "2022-05-31",
//         "2022-06-01",
//         "2022-06-02",
//         "2022-06-03",
//         "2022-06-04",
//         "2022-06-05",
//         "2022-06-06",
//         "2022-06-07",
//         "2022-06-08",
//         "2022-06-09",
//         "2022-06-10",
//         "2022-06-11",
//         "2022-06-12",
//         "2022-06-13",
//         "2022-06-14",
//         "2022-06-15",
//         "2022-06-16",
//         "2022-06-17",
//         "2022-06-18",
//         "2022-06-19",
//         "2022-06-20",
//         "2022-06-21",
//         "2022-06-22",
//         "2022-06-23",
//         "2022-06-24",
//         "2022-06-25",
//         "2022-06-26",
//         "2022-06-27",
//         "2022-06-28",
//         "2022-06-29",
//         "2022-06-30",
//         "2022-07-01",
//         "2022-07-02",
//         "2022-07-03",
//         "2022-07-04",
//         "2022-07-05",
//         "2022-07-06",
//         "2022-07-07",
//         "2022-07-08",
//         "2022-07-09",
//         "2022-07-10",
//         "2022-07-11",
//         "2022-07-12",
//         "2022-07-13",
//         "2022-07-14",
//         "2022-07-15",
//         "2022-07-16",
//         "2022-07-17",
//         "2022-07-18",
//         "2022-07-19",
//         "2022-07-20",
//         "2022-07-21",
//         "2022-07-22",
//         "2022-07-23",
//         "2022-07-24",
//         "2022-07-25",
//         "2022-07-26",
//         "2022-07-27",
//         "2022-07-28",
//         "2022-07-29",
//         "2022-07-30",
//         "2022-07-31",
//         "2022-08-01",
//         "2022-08-02",
//         "2022-08-03",
//         "2022-08-04",
//         "2022-08-05",
//         "2022-08-06",
//         "2022-08-07",
//         "2022-08-08",
//         "2022-08-09",
//         "2022-08-10",
//         "2022-08-11",
//         "2022-08-12",
//         "2022-08-13",
//         "2022-08-14",
//         "2022-08-15",
//         "2022-08-16",
//         "2022-08-17",
//         "2022-08-18",
//         "2022-08-19",
//         "2022-08-20",
//         "2022-08-21",
//         "2022-08-22",
//         "2022-08-23",
//         "2022-08-24",
//         "2022-08-25",
//         "2022-08-26",
//         "2022-08-27",
//         "2022-08-28",
//         "2022-08-29",
//         "2022-08-30",
//         "2022-08-31",
//         "2022-09-01",
//         "2022-09-02",
//         "2022-09-03",
//         "2022-09-04",
//         "2022-09-05",
//         "2022-09-06",
//         "2022-09-07",
//         "2022-09-08",
//         "2022-09-09",
//         "2022-09-10",
//         "2022-09-11",
//         "2022-09-12",
//         "2022-09-13",
//         "2022-09-14",
//         "2022-09-15",
//         "2022-09-16",
//         "2022-09-17",
//         "2022-09-18",
//         "2022-09-19",
//         "2022-09-20",
//         "2022-09-21",
//         "2022-09-22",
//         "2022-09-23",
//         "2022-09-24",
//         "2022-09-25",
//         "2022-09-26",
//         "2022-09-27",
//         "2022-09-28",
//         "2022-09-29",
//         "2022-09-30",
//         "2022-10-01",
//         "2022-10-02",
//         "2022-10-03",
//         "2022-10-04",
//         "2022-10-05",
//         "2022-10-06",
//         "2022-10-07",
//         "2022-10-08",
//         "2022-10-09",
//         "2022-10-10",
//         "2022-10-11",
//         "2022-10-12",
//         "2022-10-13",
//         "2022-10-14",
//         "2022-10-15",
//         "2022-10-16",
//         "2022-10-17",
//         "2022-10-18",
//         "2022-10-19",
//         "2022-10-20",
//         "2022-10-21",
//         "2022-10-22",
//         "2022-10-23",
//         "2022-10-24",
//         "2022-10-25",
//         "2022-10-26",
//         "2022-10-27",
//         "2022-10-28",
//         "2022-10-29",
//         "2022-10-30",
//         "2022-10-31",
//         "2022-11-01",
//         "2022-11-02",
//         "2022-11-03",
//         "2022-11-04",
//         "2022-11-05",
//         "2022-11-06",
//         "2022-11-07",
//         "2022-11-08",
//         "2022-11-09",
//         "2022-11-10",
//         "2022-11-11",
//         "2022-11-12",
//         "2022-11-13",
//         "2022-11-14",
//         "2022-11-15",
//         "2022-11-16",
//         "2022-11-17",
//         "2022-11-18",
//         "2022-11-19",
//         "2022-11-20",
//         "2022-11-21",
//         "2022-11-22",
//         "2022-11-23",
//         "2022-11-24",
//         "2022-11-25",
//         "2022-11-26",
//         "2022-11-27",
//         "2022-11-28",
//         "2022-11-29",
//         "2022-11-30",
//         "2022-12-01",
//         "2022-12-02",
//         "2022-12-03",
//         "2022-12-04",
//         "2022-12-05",
//         "2022-12-06",
//         "2022-12-07",
//         "2022-12-08",
//         "2022-12-09",
//         "2022-12-10",
//         "2022-12-11",
//         "2022-12-12",
//         "2022-12-13",
//         "2022-12-14",
//         "2022-12-15",
//         "2022-12-16",
//         "2022-12-17",
//         "2022-12-18",
//         "2022-12-19",
//         "2022-12-20",
//         "2022-12-21",
//         "2022-12-22",
//         "2022-12-23",
//         "2022-12-24",
//         "2022-12-25",
//         "2022-12-26",
//         "2022-12-27",
//         "2022-12-28",
//         "2022-12-29",
//         "2022-12-30",
//         "2022-12-31",
//       ],
//       temperature_2m_mean: [
//         9.6, 12.0, 11.2, 8.6, 3.1, 2.7, 5.4, 6.1, 4.5, 2.8, -0.1, 1.0, 2.2, 1.1,
//         1.0, 2.2, 5.0, 4.0, 4.8, 3.5, 2.8, 4.3, 3.8, 1.4, 0.0, 1.3, 4.4, 5.4,
//         8.6, 7.8, 6.1, 6.8, 9.5, 6.7, 6.9, 5.8, 8.8, 6.6, 8.1, 5.7, 7.0, 3.3,
//         2.5, 7.0, 8.6, 7.3, 12.2, 11.3, 9.9, 6.6, 10.2, 7.9, 8.8, 7.9, 7.8, 5.2,
//         3.7, 4.0, 3.8, 5.8, 6.5, 8.2, 8.1, 6.9, 4.4, 2.5, 4.9, 8.3, 9.5, 10.0,
//         8.4, 8.5, 8.7, 9.8, 11.8, 8.5, 8.4, 10.1, 7.0, 10.5, 10.8, 9.9, 10.9,
//         11.4, 11.6, 12.2, 12.3, 11.4, 10.2, 5.3, 2.5, 3.5, 4.0, 5.2, 10.3, 10.0,
//         11.3, 6.0, 5.6, 7.1, 11.5, 14.6, 13.2, 13.9, 14.0, 12.8, 12.5, 12.6,
//         12.1, 12.7, 13.0, 14.0, 13.6, 13.6, 12.1, 10.6, 12.2, 14.5, 13.8, 11.2,
//         11.0, 13.3, 14.1, 13.1, 13.7, 15.4, 15.2, 16.1, 17.6, 20.0, 18.8, 16.0,
//         15.0, 16.5, 21.0, 20.1, 22.3, 22.4, 21.4, 17.1, 17.2, 18.6, 16.6, 13.5,
//         15.1, 16.5, 15.5, 14.5, 11.8, 13.0, 15.4, 15.2, 17.6, 18.1, 20.2, 18.8,
//         16.6, 17.7, 16.7, 16.1, 18.3, 19.4, 17.5, 16.8, 19.0, 22.0, 22.4, 25.1,
//         28.3, 20.6, 18.0, 19.5, 19.6, 21.6, 19.9, 16.5, 16.6, 17.4, 18.7, 18.9,
//         15.2, 16.1, 18.5, 18.0, 18.2, 18.4, 19.0, 18.8, 18.8, 21.5, 20.2, 22.8,
//         24.8, 27.0, 24.3, 21.1, 22.1, 24.0, 28.2, 30.3, 21.0, 21.2, 20.4, 21.3,
//         24.0, 22.3, 19.1, 19.7, 20.6, 22.4, 23.8, 22.6, 22.0, 23.5, 26.9, 23.4,
//         20.5, 18.7, 20.4, 21.8, 23.7, 25.7, 25.6, 25.7, 25.2, 21.6, 20.8, 20.6,
//         20.6, 21.1, 20.1, 18.8, 20.1, 21.4, 23.1, 24.7, 23.4, 21.4, 20.2, 20.5,
//         22.5, 21.0, 21.6, 22.2, 19.9, 19.2, 22.1, 22.0, 20.6, 18.3, 17.8, 17.1,
//         16.3, 16.6, 19.7, 20.9, 20.8, 18.4, 14.4, 11.9, 13.0, 13.0, 12.6, 12.9,
//         13.1, 14.7, 14.2, 13.9, 12.7, 11.7, 11.8, 11.1, 12.2, 16.5, 15.2, 12.3,
//         13.1, 16.4, 13.9, 12.2, 12.6, 11.4, 14.4, 12.3, 12.4, 14.0, 15.4, 16.3,
//         16.9, 17.1, 17.1, 17.6, 17.5, 16.7, 16.3, 18.1, 16.2, 15.3, 17.3, 17.6,
//         18.7, 18.8, 14.5, 15.6, 14.2, 12.6, 11.9, 9.5, 9.2, 10.6, 13.2, 13.8,
//         12.3, 10.0, 8.8, 10.3, 9.2, 10.1, 11.0, 11.1, 11.6, 8.6, 7.1, 7.1, 7.2,
//         7.8, 8.3, 10.2, 9.0, 6.3, 7.9, 8.4, 6.6, 6.3, 5.3, 4.4, 3.4, 2.8, 2.4,
//         2.6, 2.0, 2.2, 1.5, 1.1, -1.9, -2.1, -1.8, -0.6, -1.8, -1.6, -2.4, -0.2,
//         8.2, 11.6, 10.4, 12.5, 12.9, 10.8, 11.5, 9.1, 6.2, 10.4, 9.7, 10.6,
//         15.3,
//       ],
//     },
//   };
//   const dataRain = {
//     latitude: 48.822495,
//     longitude: 2.2881355,
//     generationtime_ms: 0.16808509826660156,
//     utc_offset_seconds: 0,
//     timezone: "GMT",
//     timezone_abbreviation: "GMT",
//     elevation: 43.0,
//     daily_units: {
//       time: "iso8601",
//       precipitation_sum: "mm",
//     },
//     daily: {
//       time: [
//         "2022-01-01",
//         "2022-01-02",
//         "2022-01-03",
//         "2022-01-04",
//         "2022-01-05",
//         "2022-01-06",
//         "2022-01-07",
//         "2022-01-08",
//         "2022-01-09",
//         "2022-01-10",
//         "2022-01-11",
//         "2022-01-12",
//         "2022-01-13",
//         "2022-01-14",
//         "2022-01-15",
//         "2022-01-16",
//         "2022-01-17",
//         "2022-01-18",
//         "2022-01-19",
//         "2022-01-20",
//         "2022-01-21",
//         "2022-01-22",
//         "2022-01-23",
//         "2022-01-24",
//         "2022-01-25",
//         "2022-01-26",
//         "2022-01-27",
//         "2022-01-28",
//         "2022-01-29",
//         "2022-01-30",
//         "2022-01-31",
//         "2022-02-01",
//         "2022-02-02",
//         "2022-02-03",
//         "2022-02-04",
//         "2022-02-05",
//         "2022-02-06",
//         "2022-02-07",
//         "2022-02-08",
//         "2022-02-09",
//         "2022-02-10",
//         "2022-02-11",
//         "2022-02-12",
//         "2022-02-13",
//         "2022-02-14",
//         "2022-02-15",
//         "2022-02-16",
//         "2022-02-17",
//         "2022-02-18",
//         "2022-02-19",
//         "2022-02-20",
//         "2022-02-21",
//         "2022-02-22",
//         "2022-02-23",
//         "2022-02-24",
//         "2022-02-25",
//         "2022-02-26",
//         "2022-02-27",
//         "2022-02-28",
//         "2022-03-01",
//         "2022-03-02",
//         "2022-03-03",
//         "2022-03-04",
//         "2022-03-05",
//         "2022-03-06",
//         "2022-03-07",
//         "2022-03-08",
//         "2022-03-09",
//         "2022-03-10",
//         "2022-03-11",
//         "2022-03-12",
//         "2022-03-13",
//         "2022-03-14",
//         "2022-03-15",
//         "2022-03-16",
//         "2022-03-17",
//         "2022-03-18",
//         "2022-03-19",
//         "2022-03-20",
//         "2022-03-21",
//         "2022-03-22",
//         "2022-03-23",
//         "2022-03-24",
//         "2022-03-25",
//         "2022-03-26",
//         "2022-03-27",
//         "2022-03-28",
//         "2022-03-29",
//         "2022-03-30",
//         "2022-03-31",
//         "2022-04-01",
//         "2022-04-02",
//         "2022-04-03",
//         "2022-04-04",
//         "2022-04-05",
//         "2022-04-06",
//         "2022-04-07",
//         "2022-04-08",
//         "2022-04-09",
//         "2022-04-10",
//         "2022-04-11",
//         "2022-04-12",
//         "2022-04-13",
//         "2022-04-14",
//         "2022-04-15",
//         "2022-04-16",
//         "2022-04-17",
//         "2022-04-18",
//         "2022-04-19",
//         "2022-04-20",
//         "2022-04-21",
//         "2022-04-22",
//         "2022-04-23",
//         "2022-04-24",
//         "2022-04-25",
//         "2022-04-26",
//         "2022-04-27",
//         "2022-04-28",
//         "2022-04-29",
//         "2022-04-30",
//         "2022-05-01",
//         "2022-05-02",
//         "2022-05-03",
//         "2022-05-04",
//         "2022-05-05",
//         "2022-05-06",
//         "2022-05-07",
//         "2022-05-08",
//         "2022-05-09",
//         "2022-05-10",
//         "2022-05-11",
//         "2022-05-12",
//         "2022-05-13",
//         "2022-05-14",
//         "2022-05-15",
//         "2022-05-16",
//         "2022-05-17",
//         "2022-05-18",
//         "2022-05-19",
//         "2022-05-20",
//         "2022-05-21",
//         "2022-05-22",
//         "2022-05-23",
//         "2022-05-24",
//         "2022-05-25",
//         "2022-05-26",
//         "2022-05-27",
//         "2022-05-28",
//         "2022-05-29",
//         "2022-05-30",
//         "2022-05-31",
//         "2022-06-01",
//         "2022-06-02",
//         "2022-06-03",
//         "2022-06-04",
//         "2022-06-05",
//         "2022-06-06",
//         "2022-06-07",
//         "2022-06-08",
//         "2022-06-09",
//         "2022-06-10",
//         "2022-06-11",
//         "2022-06-12",
//         "2022-06-13",
//         "2022-06-14",
//         "2022-06-15",
//         "2022-06-16",
//         "2022-06-17",
//         "2022-06-18",
//         "2022-06-19",
//         "2022-06-20",
//         "2022-06-21",
//         "2022-06-22",
//         "2022-06-23",
//         "2022-06-24",
//         "2022-06-25",
//         "2022-06-26",
//         "2022-06-27",
//         "2022-06-28",
//         "2022-06-29",
//         "2022-06-30",
//         "2022-07-01",
//         "2022-07-02",
//         "2022-07-03",
//         "2022-07-04",
//         "2022-07-05",
//         "2022-07-06",
//         "2022-07-07",
//         "2022-07-08",
//         "2022-07-09",
//         "2022-07-10",
//         "2022-07-11",
//         "2022-07-12",
//         "2022-07-13",
//         "2022-07-14",
//         "2022-07-15",
//         "2022-07-16",
//         "2022-07-17",
//         "2022-07-18",
//         "2022-07-19",
//         "2022-07-20",
//         "2022-07-21",
//         "2022-07-22",
//         "2022-07-23",
//         "2022-07-24",
//         "2022-07-25",
//         "2022-07-26",
//         "2022-07-27",
//         "2022-07-28",
//         "2022-07-29",
//         "2022-07-30",
//         "2022-07-31",
//         "2022-08-01",
//         "2022-08-02",
//         "2022-08-03",
//         "2022-08-04",
//         "2022-08-05",
//         "2022-08-06",
//         "2022-08-07",
//         "2022-08-08",
//         "2022-08-09",
//         "2022-08-10",
//         "2022-08-11",
//         "2022-08-12",
//         "2022-08-13",
//         "2022-08-14",
//         "2022-08-15",
//         "2022-08-16",
//         "2022-08-17",
//         "2022-08-18",
//         "2022-08-19",
//         "2022-08-20",
//         "2022-08-21",
//         "2022-08-22",
//         "2022-08-23",
//         "2022-08-24",
//         "2022-08-25",
//         "2022-08-26",
//         "2022-08-27",
//         "2022-08-28",
//         "2022-08-29",
//         "2022-08-30",
//         "2022-08-31",
//         "2022-09-01",
//         "2022-09-02",
//         "2022-09-03",
//         "2022-09-04",
//         "2022-09-05",
//         "2022-09-06",
//         "2022-09-07",
//         "2022-09-08",
//         "2022-09-09",
//         "2022-09-10",
//         "2022-09-11",
//         "2022-09-12",
//         "2022-09-13",
//         "2022-09-14",
//         "2022-09-15",
//         "2022-09-16",
//         "2022-09-17",
//         "2022-09-18",
//         "2022-09-19",
//         "2022-09-20",
//         "2022-09-21",
//         "2022-09-22",
//         "2022-09-23",
//         "2022-09-24",
//         "2022-09-25",
//         "2022-09-26",
//         "2022-09-27",
//         "2022-09-28",
//         "2022-09-29",
//         "2022-09-30",
//         "2022-10-01",
//         "2022-10-02",
//         "2022-10-03",
//         "2022-10-04",
//         "2022-10-05",
//         "2022-10-06",
//         "2022-10-07",
//         "2022-10-08",
//         "2022-10-09",
//         "2022-10-10",
//         "2022-10-11",
//         "2022-10-12",
//         "2022-10-13",
//         "2022-10-14",
//         "2022-10-15",
//         "2022-10-16",
//         "2022-10-17",
//         "2022-10-18",
//         "2022-10-19",
//         "2022-10-20",
//         "2022-10-21",
//         "2022-10-22",
//         "2022-10-23",
//         "2022-10-24",
//         "2022-10-25",
//         "2022-10-26",
//         "2022-10-27",
//         "2022-10-28",
//         "2022-10-29",
//         "2022-10-30",
//         "2022-10-31",
//         "2022-11-01",
//         "2022-11-02",
//         "2022-11-03",
//         "2022-11-04",
//         "2022-11-05",
//         "2022-11-06",
//         "2022-11-07",
//         "2022-11-08",
//         "2022-11-09",
//         "2022-11-10",
//         "2022-11-11",
//         "2022-11-12",
//         "2022-11-13",
//         "2022-11-14",
//         "2022-11-15",
//         "2022-11-16",
//         "2022-11-17",
//         "2022-11-18",
//         "2022-11-19",
//         "2022-11-20",
//         "2022-11-21",
//         "2022-11-22",
//         "2022-11-23",
//         "2022-11-24",
//         "2022-11-25",
//         "2022-11-26",
//         "2022-11-27",
//         "2022-11-28",
//         "2022-11-29",
//         "2022-11-30",
//         "2022-12-01",
//         "2022-12-02",
//         "2022-12-03",
//         "2022-12-04",
//         "2022-12-05",
//         "2022-12-06",
//         "2022-12-07",
//         "2022-12-08",
//         "2022-12-09",
//         "2022-12-10",
//         "2022-12-11",
//         "2022-12-12",
//         "2022-12-13",
//         "2022-12-14",
//         "2022-12-15",
//         "2022-12-16",
//         "2022-12-17",
//         "2022-12-18",
//         "2022-12-19",
//         "2022-12-20",
//         "2022-12-21",
//         "2022-12-22",
//         "2022-12-23",
//         "2022-12-24",
//         "2022-12-25",
//         "2022-12-26",
//         "2022-12-27",
//         "2022-12-28",
//         "2022-12-29",
//         "2022-12-30",
//         "2022-12-31",
//       ],
//       precipitation_sum: [
//         0.0, 1.2, 5.1, 17.6, 0.1, 0.1, 6.0, 10.9, 1.8, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 0.6, 0.1, 0.0, 2.1, 0.2, 0.0, 0.0, 0.2, 0.0, 0.0, 0.0, 0.4, 0.1,
//         0.5, 0.2, 0.6, 0.8, 0.1, 0.0, 0.9, 0.0, 4.6, 0.0, 0.0, 0.0, 2.4, 0.0,
//         0.0, 0.3, 1.3, 1.7, 6.2, 0.4, 1.7, 0.5, 1.8, 0.6, 0.1, 0.1, 3.0, 0.5,
//         0.0, 0.0, 0.0, 0.3, 0.0, 0.4, 2.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.7,
//         3.3, 4.9, 0.0, 9.1, 0.6, 0.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 0.0, 0.0, 5.9, 17.1, 0.8, 3.4, 0.0, 0.0, 0.1, 1.0, 0.5, 2.8, 30.8,
//         1.4, 0.0, 0.0, 0.0, 7.9, 0.3, 0.0, 0.0, 0.0, 0.0, 0.2, 0.0, 0.0, 0.0,
//         1.9, 0.2, 1.1, 0.2, 0.0, 0.0, 4.4, 0.0, 0.0, 0.1, 0.0, 0.0, 0.3, 0.0,
//         0.9, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.5, 0.5, 0.9, 0.0, 0.6, 20.2,
//         0.0, 0.1, 11.9, 6.8, 0.0, 0.2, 0.9, 0.1, 0.2, 0.0, 0.1, 0.0, 0.0, 5.9,
//         3.4, 3.6, 0.2, 1.8, 23.5, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 12.7, 9.4, 1.6, 0.2, 6.3, 4.1, 10.1, 0.6, 3.7, 0.0, 0.0, 10.6, 0.2,
//         0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 0.0, 0.0, 0.0, 12.7, 0.1, 7.4, 2.6, 0.0, 1.2, 0.3, 0.0, 0.2, 0.0,
//         0.0, 0.0, 0.2, 0.0, 0.0, 2.0, 3.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 3.4, 2.7, 17.2, 5.9, 5.8, 4.7, 0.0, 0.0, 0.0, 0.2, 0.0, 0.2, 0.6,
//         0.0, 0.0, 0.0, 1.5, 0.0, 0.0, 3.2, 3.1, 0.0, 0.3, 8.2, 6.2, 1.2, 6.7,
//         2.1, 0.0, 0.0, 1.8, 6.7, 0.9, 0.5, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1,
//         2.9, 0.0, 5.9, 5.6, 1.6, 0.9, 2.0, 5.5, 12.4, 0.0, 0.0, 0.0, 0.0, 0.0,
//         0.0, 0.0, 2.5, 0.0, 0.0, 10.1, 5.2, 2.6, 0.5, 13.9, 1.2, 0.1, 4.5, 12.6,
//         0.0, 1.2, 0.7, 2.3, 0.0, 0.0, 0.0, 0.0, 0.3, 6.5, 0.2, 0.0, 6.7, 6.0,
//         0.2, 15.1, 0.0, 1.7, 1.2, 0.0, 0.0, 0.0, 0.0, 0.0, 6.5, 6.6, 0.9, 0.5,
//         0.4, 1.8, 6.4, 3.8, 2.8, 3.7, 0.5, 0.0, 7.6, 4.7, 1.6, 0.0, 0.0, 1.6,
//         0.0, 2.0, 1.8, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.2, 0.0, 3.6, 0.0, 0.0,
//         0.0, 5.5, 4.6, 23.6, 15.7, 9.0, 6.7, 1.4, 2.7, 1.1, 0.0, 4.2, 0.9, 7.4,
//         0.0,
//       ],
//     },
//   };
// }

// create an object for a specific year
// {day: data}
function makeYearlyObject(data, year, dataType) {
  let typeOfData =
    dataType === "temp" ? "apparent_temperature_max" : "precipitation_sum";
  const newObject = {};
  for (let i = 0; i < data.daily.time.length; i++) {
    if (data.daily.time[i].includes(year)) {
      newObject[data.daily.time[i]] = data.daily[typeOfData][i];
    }
  }
  return newObject;
}

// calculate TMm
// yearly average temperature
function calculateTMm(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "temp");
  const yearlyDataArr = Object.values(yearlyDataObject);
  let yearlyMeanTemp =
    yearlyDataArr.reduce((count, element) => count + element) /
    yearlyDataArr.length;
  return yearlyMeanTemp;
}

// calculate TXge30
// number of days when temperature >= 30
function calculateTXge30(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "temp");
  const yearlyDataArr = Object.values(yearlyDataObject);
  const TXge30Arr = yearlyDataArr.filter((temp) => temp >= 30);
  return TXge30Arr.length;
}

// calculate TXgt50p
// percentage of days above average temperature
// calculate average temperature of the year
// count number of days above the average temp
function calculateTXgt50p(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "temp");
  const yearlyDataArr = Object.values(yearlyDataObject);
  const yearlyMeanTemp = calculateTMm(year, data);
  const TXgt50pArr = yearlyDataArr.filter((temp) => temp >= yearlyMeanTemp);
  const TXgt50p = (TXgt50pArr.length / yearlyDataArr.length) * 100;
  return TXgt50p;
}

// calculate ETR
// extreme temperature range
// yearly range of temperature
function calculateETR(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "temp");
  const yearlyDataArr = Object.values(yearlyDataObject);
  const minTemp = Math.min(...yearlyDataArr);
  const maxTemp = Math.max(...yearlyDataArr);
  return maxTemp - minTemp;
}

// calculate TXx
// max temperature
function calculateTXx(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "temp");
  const yearlyDataArr = Object.values(yearlyDataObject);
  const maxTemp = Math.max(...yearlyDataArr);
  return maxTemp;
}

// calculate R10mm
// count of days with precipitation >= 10mm
function calculateR10mm(year, data) {
  const yearlyDataObject = makeYearlyObject(data, year, "rain");
  const yearlyDataArr = Object.values(yearlyDataObject);
  const r10mm = yearlyDataArr.filter((element) => element > 10).length;
  return r10mm;
}

function calculateIndices(dataInput, data) {
  const yearlyIndices = {
    years: [],
    TMm: [],
    TXge30: [],
    TXgt50p: [],
    ETR: [],
    TXx: [],
    R10mm: [],
  };
  for (let i = yearsArray[0]; i <= yearsArray[1]; i++) {
    yearlyIndices.years.push(i);
    yearlyIndices.TMm.push(calculateTMm(i, data));
    yearlyIndices.TXge30.push(calculateTXge30(i, data));
    yearlyIndices.TXgt50p.push(calculateTXgt50p(i, data));
    yearlyIndices.ETR.push(calculateETR(i, data));
    yearlyIndices.TXx.push(calculateTXx(i, data));
    yearlyIndices.R10mm.push(calculateR10mm(i, data));
  }
  return yearlyIndices;
}
